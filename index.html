<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>leaf.loop | 🌱hero</title>
    <link rel="stylesheet" href="styles/style.css" />
    <!-- GoogleFonts↓ -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP&family=Kiwi+Maru&family=Kosugi+Maru&family=M+PLUS+1p&family=Zen+Kurenaido&family=Zen+Maru+Gothic:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <!-- Noto Sans -->
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <script src="js/timer-base.js" defer></script>
    <script src="js/hero.js" defer></script>
  </head>
  <body class="hero">
    <!-- 動画の背景 -->
    <div class="hero-media" aria-hidden="true">
      <!-- 非フォーカス（装飾のため） -->
      <img class="hero-poster" src="assets/jpg/hero-bg.jpg" alt="" />
      <!-- autoplay：ページが読み込まれた時に自動で再生 -->
      <!-- muted：音声をミュートに設定 -->
      <!-- loop：動画を繰り返し再生 -->
      <!-- playsinline:iOSで全画面化を防ぐ -->
      <!-- 画面揺れ防止に width/height を与えてCLS低減 -->
      <video
        id="background-video"
        class="hero-video"
        width="960"
        height="540"
        autoplay
        muted
        loop
        playsinline
        preload="none"
        poster="assets/jpg/hero-bg.jpg"
      >
        <!-- 幅が広い環境ではHDを選択、その他はSD -->
        <source
          src="assets/mp4/5835661-hd_1920_1080_25fps.mp4"
          type="video/mp4"
          media="(min-width: 1024px)"
        />
        <source
          src="assets/mp4/5835661-sd_960_540_25fps.mp4"
          type="video/mp4"
        />
        お使いのブラウザは動画タグに対応していません。
      </video>
    </div>
    <!-- 【main】 grid　親 -->
    <main class="container content">
      <!-- ❶　タイマー -->
      <div class="item item1 timer m-plus-1p-regular">
        <!-- タイマーgrid 親 -->
        <div class="timer-grid-container">
          <!-- タイマー子１：見えるタイマー表示 -->
          <div class="timer1">
            <div class="timer-display">
              <h1
                id="timer"
                class="timer_count kiwi-maru-regular"
                role="timer"
                aria-label="お茶のタイマー 残り時間"
              >
                00:00
              </h1>
            </div>
            <!-- 読み上げ専用（視覚には非表示） -->
            <div
              id="timerLive"
              class="sr-only"
              aria-live="polite"
              aria-atomic="true"
            ></div>
          </div>
          <!-- タイマー子２：初期設定（プリセット）ボタン -->
          <!-- アイコンは装飾なので aria-hidden="true" を付ける -->
          <div class="timer2 buttons preset-buttons">
            <button class="setTimeBtn" data-minutes="3" aria-label="3分に設定">
              <span aria-hidden="true">3分</span>
            </button>
            <button class="setTimeBtn" data-minutes="4" aria-label="4分に設定">
              <span aria-hidden="true">4分</span>
            </button>
            <button class="setTimeBtn" data-minutes="5" aria-label="5分に設定">
              <span aria-hidden="true">5分</span>
            </button>
          </div>
          <!-- タイマー子３：操作（コントロール）ボタン -->
          <div class="timer3 buttons set-buttons">
            <button id="startBtn" aria-pressed="false" aria-label="再生">
              <span
                class="set-button material-symbols-outlined icon-size"
                aria-hidden="true"
                >play_circle
              </span>
            </button>
            <button id="stopBtn" aria-pressed="false" aria-label="停止">
              <span
                class="set-button material-symbols-outlined icon-size"
                aria-hidden="true"
                >stop_circle
              </span>
            </button>
            <button id="resetBtn" aria-label="リセット">
              <span
                class="set-button material-symbols-outlined icon-size"
                aria-hidden="true"
                >refresh
              </span>
            </button>
            <button aria-label="ミュート" id="muteBtn">
              <span class="set-button mute material-symbols-outlined icon-size"
                >volume_off
              </span>
            </button>
          </div>
          <!-- タイマー子４：「通知テスト」開発用 -->
          <div class="timer4">
            <!-- 通知オプション -->
            <fieldset
              class="notify-controls"
              aria-describedby="notifyHint"
              hidden
            >
              <legend class="visually-hidden">通知の方法</legend>
              <p id="notifyHint" class="visually-hidden explanation">
                音・バイブ・画面表示のオン/オフを切り替えます
              </p>
              <!-- input checkbox -->
              <div class="label-box">
                <!-- 音 -->
                <label class="chip">
                  <input id="optSound" type="checkbox" checked />
                  <span
                    class="chip__icon material-symbols-outlined"
                    aria-hidden="true"
                  >
                    sound_sampler
                  </span>
                  <span class="chip__text">音</span>
                </label>
                <!-- バイブ -->
                <label class="chip">
                  <input id="optVibrate" type="checkbox" checked />
                  <span
                    class="chip__icon material-symbols-outlined"
                    aria-hidden="true"
                    >mobile_vibrate</span
                  >
                  <span class="chip__text">バイブ</span>
                </label>
                <!-- トースト -->
                <label class="chip">
                  <input id="optToast" type="checkbox" checked />
                  <span
                    class="chip__icon material-symbols-outlined"
                    aria-hidden="true"
                    >toast</span
                  >
                  <span class="chip__text">画面表示</span>
                </label>
              </div>
              <!-- テスト ボタン-->
              <div class="test-button-box">
                <button
                  id="testNotify"
                  type="button"
                  class="chip chip--action"
                  aria-label="通知テスト"
                >
                  通知テスト
                </button>
              </div>
            </fieldset>
          </div>
          <!-- 画面表示（トースト） スクリーンリーダーが読んでくれる-->
          <div id="toast" class="toast" role="status" aria-live="polite" hidden>
            お茶の準備ができました
          </div>
          <!-- 読み上げ（最終告知は assertive） -->
          <div
            id="finalLive"
            class="sr-only"
            aria-live="assertive"
            aria-atomic="true"
          ></div>
        </div>
      </div>
      <!-- ❷　galleryへのアンカー -->
      <div class="item item2 link zen-kaku-gothic-new-regular">
        <div class="hover-area bg-gallery">
          <a href="#" class="hover-link">
            <div class="hover-text">
              <p>世界のお茶を少しだけ</p>
            </div>
          </a>
        </div>
      </div>
      <!-- ❸universeへのアンカー -->
      <div class="item item3 link zen-kaku-gothic-new-regular">
        <div class="hover-area bg-universe">
          <a href="#" class="hover-link">
            <div class="hover-text">
              <p class="contrast-underline">遠くのことを少しだけ</p>
            </div>
          </a>
        </div>
      </div>
      <!-- ❹メインテキスト -->
      <div class="item item4">
        <div class="text">
          <div class="suu zen-maru-gothic-regular">すぅ〜</div>
          <div class="tea contrast-underline zen-kaku-gothic-new-regular">
            お茶でも淹れましょうか
          </div>
        </div>
      </div>
      <!-- ❺about & help 表示（heroのみ） -->
      <!-- heroのみ表示 -->
      <div class="wrapper info item5" id="myElement">
        <!-- アイテム：about.html -->
        <a href="#" class="a-about zen-kaku-gothic-new-regular">
          <div class="sideitem item-about">
            <span class="leaf-text" aria-hidden="true">🌱</span>
            <p>このサイトについて</p>
          </div></a
        >
        <!-- ヘルプ -->
        <a href="#" class="a-help zen-kaku-gothic-new-regular"
          ><div class="sideitem item-help">
            <span
              class="material-symbols-outlined help-icon-size"
              aria-hidden="true"
            >
              help
            </span>
            <p>ヘルプ</p>
          </div>
        </a>
      </div>
    </main>
    <audio id="alarmSound" src="assets/mp3/alarm.mp3" preload="auto"></audio>
  </body>
</html>
